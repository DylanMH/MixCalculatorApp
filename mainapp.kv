# // Custom Design Properties for default KivyMD
# Custom input properties for text input
<FloatInput@MDTextField>
    required: True
    mode: "fill"
    halign: "center"

# Custom Label Properties For The Dimension Labels
<MainLabels@MDLabel>
    font_size: dp(18)
    font_name: 'Comic'
    halign: "center"
    theme_text_color: "Primary"

# Logo Label for Main Screen
<Logo@Label>
    font_size: dp(50)
    font_name: "comic"

# Rounded Buttons
<MainButton@MDRoundFlatButton>
    font_size: dp(30)
    font_name: "comic"
# //

WindowManager:
    MainScreen:
        name: "main"
    MixLayout:
        name: "mix"
    ConLayout:
        name: "concrete"

# Main Screen Layout
<MainScreen>:
    name: "main"
    MDIcon:
        icon: "hard-hat"
        theme_text_color: 'Custom'
        #Teal Color
        text_color: 0/255, 128/255, 128/255, 1 
        pos_hint: {"x": dp(0.08), "y": dp(0.71)}
        font_size: 45
    MDFloatLayout:
        Logo: # Logo Text
            text: "Construction Calculator"
            size_hint: dp(0.3), dp(0.5)
            pos_hint: {"x": dp(0.35), "y": dp(0.5)}
        MainButton: # Mix Button
            text: "Calculate Mix"
            size_hint: dp(0.35), dp(0.2)
            pos_hint: {"x": dp(0.05), "y": sp(0.35)}
            on_press: root.manager.current = "mix"
        MainButton: # Concrete Button
            text: "Calculate Concrete"
            size_hint: dp(0.35), dp(0.2)
            pos_hint: {"x": dp(0.6), "y": dp(0.35)}
            on_press: root.manager.current = "concrete"
        MainButton: # Close App Button
            text: "Exit"
            size_hint: dp(0.3), dp(0.2)
            pos_hint: {"x": dp(0.35), "y": dp(0.1)}
            on_press: app.stop()
                    
# Layout of Mix Screen
<MixLayout>:
    name: "mix"
    # Resets users previously inputed values
    on_pre_enter:
        length_input.text = ""
        width_input.text = ""
        depth_input.text = ""
        button_output.text = "Total: "
    MDBoxLayout:
        orientation: "vertical"
        spacing: dp(20)
        MDTopAppBar:
            title: "Mix Calculations"
            left_action_items: [['arrow-left-bold',lambda x: app.change_screen("main")]]
        MainLabels:
            id: length
            text: "Length in Feet"
        FloatInput:
            id: length_input
        MainLabels:
            id: width
            text: "Width in Feet"
        FloatInput:
            id: width_input
        MainLabels:
            id: depth
            text: "Depth in Inches"
        FloatInput:
            id: depth_input

        MDFloatLayout:
            spacing: dp(15)
            MainButton:
                text: "Calculate Total"
                on_press: root.calculations()
                pos_hint: {'x': .15, 'y': .2}
            MainLabels:
                font_size: sp(25)
                pos_hint: {'x': .23, 'y': .15}
                id: button_output
                text: "Total: "

# Concrete Page Layout
<ConLayout>:
    name: "concrete"
    # Resets users previously inputed values
    on_pre_enter:
        length_input.text = ""
        width_input.text = ""
        thickness_input.text = ""
        button_output.text = "Total: "
    MDBoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        spacing: dp(20)

        MDTopAppBar:
            title: "Concrete Calculations"
            left_action_items: [['arrow-left-bold',lambda x: app.change_screen("main")]]
        MainLabels:
            id: length
            text: "Length in Feet"
        FloatInput:
            id: length_input
        MainLabels:
            id: width
            text: "Width in Feet"
        FloatInput:
            id: width_input
        MainLabels:
            id: thickness
            text: "Thickness in Inches"
        FloatInput:
            id: thickness_input
        MDFloatLayout:
            spacing: dp(15)
            MainButton:
                text: "Calculate Total"
                on_press: root.calculations()
                pos_hint: {'x': .15, 'y': .2}
            MainLabels:
                font_size: sp(25)
                pos_hint: {'x': .23, 'y': .15}
                id: button_output
                text: "Total: "